{% extends "base.html"%}

{% block content %}
<h1 class="mt-5">My Contactbook</h1>

<table class="table">
	<thead>
		<tr>
			<th>Name</th>
			<th>Surname</th>
			<th>Phone Number</th>
			<th>Category</th>
		</tr>
	</thead>
	<tbody>
		{% for contact in contacts %}
		<tr>
			<td>
				<a href="{% url 'contact' contact_id=contact.id %}">{{ contact.name }}</a>
			</td>
			<td>{{ contact.surname }}</td>
			<td>{{ contact.phone }}</td>
			<td>{{ contact.category }}</td>
		</tr>
		{% endfor %}
	</tbody>
</table>

<nav aria-label="Contacts page navigation">
	<ul class="pagination">
		{% if contacts.has_previous %}
		<li class="page-item"><a class="page-link" href="?page=1">First</a></li>
        <li class="page-item"><a class="page-link" href="?page={{ contacts.previous_page_number }}">&laquo;</a></li>
		{% endif %}

		{% comment %} <li class="page-item">
			<a class="page-link disabled" href="">Page {{ contacts.number }} of {{ contacts.paginator.num_pages }}</a>
		</li> {% endcomment %}
		{% for page_number in contacts.paginator.page_range %}
			{% if page_number <= contacts.number|add:3 and page_number >= contacts.number|add:-3 %}
				{% if contacts.number == page_number %}
				<li class="page-item active">
					<a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
				</li>
				{% else %}
				<li class="page-item">
					<a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
				</li>
				{% endif %}
			{% endif %}
		{% endfor %}

		{% if contacts.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ contacts.next_page_number }}">&raquo;</a></li>
		<li class="page-item"><a class="page-link" href="?page={{ contact.num_pages }}">Last</a></li>
		{% endif %}
	</ul>
</nav>
{% endblock content %}